<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-border-color: transparent;"
            xmlns="http://javafx.com/javafx/17.0.2-ea"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.messanger_oop.CreateChatController">

    <AnchorPane prefHeight="700.0" prefWidth="700.0"
                style="-fx-background-color: linear-gradient(to bottom right, #667eea, #764ba2);">

        <VBox alignment="TOP_CENTER" spacing="30.0"
              AnchorPane.topAnchor="0.0"
              AnchorPane.bottomAnchor="0.0"
              AnchorPane.leftAnchor="0.0"
              AnchorPane.rightAnchor="0.0">

            <padding>
                <Insets top="40.0" right="40.0" bottom="40.0" left="40.0"/>
            </padding>

            <!-- Логотип и заголовок -->
            <VBox alignment="CENTER" spacing="10.0">
                <ImageView fitHeight="80.0" fitWidth="80.0">
                    <image>
                        <Image url="@messenger-icon.png" />
                    </image>
                </ImageView>
                <Label text="Создание нового чата"
                       style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Label text="Выберите участников для нового чата"
                       style="-fx-text-fill: rgba(255,255,255,0.8); -fx-font-size: 16;"/>
            </VBox>

            <!-- Форма создания чата -->
            <VBox alignment="CENTER" spacing="20.0"
                  style="-fx-background-color: white; -fx-background-radius: 20; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 20, 0, 0, 10);"
                  maxWidth="600.0">

                <VBox spacing="20.0" prefWidth="550">
                    <!-- Название чата -->
                    <VBox spacing="8">
                        <Label text="Название чата:"
                               style="-fx-font-weight: bold; -fx-text-fill: #333; -fx-font-size: 16;"/>
                        <TextField fx:id="chatNameField"
                                   prefHeight="45.0"
                                   prefWidth="500.0"
                                   promptText="Введите название чата"
                                   style="-fx-background-color: #f8f9fa; -fx-border-color: #e0e0e0; -fx-border-radius: 10; -fx-padding: 0 15; -fx-font-size: 14;"/>
                    </VBox>

                    <!-- Список пользователей -->
                    <HBox spacing="20" prefHeight="300">
                        <!-- Доступные пользователи -->
                        <VBox spacing="10" prefWidth="250">
                            <Label text="Доступные пользователи:"
                                   style="-fx-font-weight: bold; -fx-text-fill: #333; -fx-font-size: 16;"/>
                            <ListView fx:id="usersListView"
                                      prefHeight="250"
                                      style="-fx-background-color: #f8f9fa; -fx-border-color: #e0e0e0; -fx-border-radius: 10;"/>
                        </VBox>

                        <!-- Кнопки управления -->
                        <VBox spacing="10" alignment="CENTER">
                            <Button fx:id="addUserButton"
                                    text="➡"
                                    style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 10;"
                                    prefWidth="120"/>
                            <Button fx:id="removeUserButton"
                                    text="⬅"
                                    style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 10;"
                                    prefWidth="120"/>
                        </VBox>

                        <!-- Выбранные пользователи -->
                        <VBox spacing="10" prefWidth="250">
                            <Label text="Выбранные пользователи:"
                                   style="-fx-font-weight: bold; -fx-text-fill: #333; -fx-font-size: 16;"/>
                            <ListView fx:id="selectedUsersListView"
                                      prefHeight="250"
                                      style="-fx-background-color: #f8f9fa; -fx-border-color: #e0e0e0; -fx-border-radius: 10;"/>
                        </VBox>
                    </HBox>

                    <!-- Кнопки действий -->
                    <HBox spacing="15.0" alignment="CENTER">
                        <Button fx:id="createChatButton"
                                mnemonicParsing="false"
                                text="✅ Создать чат"
                                style="-fx-background-color: linear-gradient(to right, #4CAF50, #8BC34A); -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 30; -fx-background-radius: 25; -fx-font-size: 14;"
                                prefHeight="45.0" prefWidth="160.0" />

                        <Button fx:id="cancelButton"
                                mnemonicParsing="false"
                                text="❌ Отмена"
                                style="-fx-background-color: transparent; -fx-text-fill: #f44336; -fx-font-weight: bold; -fx-border-color: #f44336; -fx-border-width: 2; -fx-border-radius: 25; -fx-font-size: 14;"
                                prefHeight="45.0" prefWidth="140.0" />
                    </HBox>
                </VBox>
            </VBox>

            <!-- Подсказка -->
            <Label text="Выберите пользователей из списка для создания нового чата"
                   style="-fx-text-fill: rgba(255,255,255,0.7); -fx-font-size: 14;"/>
        </VBox>
    </AnchorPane>
</ScrollPane>
<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<HBox prefHeight="650.0" prefWidth="800.0" spacing="15.0" style="-fx-background-color: linear-gradient(to bottom, #eef1ff, #f8f9ff);" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.messanger_oop.ChatController">

    <padding>
        <Insets bottom="15.0" left="15.0" right="15.0" top="15.0" />
    </padding>

    <!-- Ð›ÐµÐ²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ñ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸ -->
    <VBox prefWidth="600" spacing="15" VBox.vgrow="ALWAYS">

        <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ Ð½Ð°Ð·Ð°Ð´ Ð¸ ÑÑ‚Ð°Ñ‚ÑƒÑÐ¾Ð¼ Ñ‡Ð°Ñ‚Ð° -->
        <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 0, 2);">

            <Button onAction="#handleBackToChatList" style="-fx-background-color: transparent; -fx-text-fill: #667eea; -fx-font-weight: bold; -fx-border-color: #667eea; -fx-border-radius: 15; -fx-border-width: 2; -fx-padding: 8 15;" text="â† ÐÐ°Ð·Ð°Ð´" />

            <Label fx:id="chatStatusLabel" style="-fx-text-fill: #666; -fx-font-size: 12px; -fx-padding: 0 10;" text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ°..." />

            <Region HBox.hgrow="ALWAYS" />
        </HBox>

        <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ -->
        <ListView fx:id="messageListView" style="-fx-background-color: white; -fx-background-radius: 15; -fx-border-color: #e0e0e0; -fx-border-radius: 15; -fx-padding: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 3);" VBox.vgrow="ALWAYS" />

        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð° Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°Ð¼Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð² -->
        <VBox spacing="10" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 3);">

            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð¿Ñ€Ð¸ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Button fx:id="attachImageButton" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 10;" text="Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ" />

                <Button fx:id="attachFileButton" style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 10;" text="ðŸ“Ž Ð¤Ð°Ð¹Ð»" />

                <!-- ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» -->
                <Label fx:id="selectedFileLabel" style="-fx-text-fill: #666; -fx-font-size: 12; -fx-padding: 0 10;" text="" />
            </HBox>

            <!-- ÐŸÐ¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ -->
            <HBox spacing="10.0">
                <TextArea fx:id="messageTextArea" prefHeight="65.0" prefRowCount="3" prefWidth="500.0" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸ÐºÑ€ÐµÐ¿Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»... (Ctrl+Ð´Ð²Ð¾Ð¹Ð½Ð¾Ð¹ ÐºÐ»Ð¸Ðº Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°)" style="-fx-background-color: #f8f9fa; -fx-border-color: #e0e0e0; -fx-border-radius: 10; -fx-padding: 10; -fx-font-family: 'Arial'; -fx-font-size: 14;" wrapText="true" HBox.hgrow="ALWAYS" />

                <Button fx:id="sendButton" defaultButton="true" onAction="#handleSendMessage" prefHeight="65.0" prefWidth="210.0" style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 15 25; -fx-background-radius: 15; -fx-font-size: 14;" text="ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ" />
            </HBox>
        </VBox>
    </VBox>

    <!-- ÐŸÑ€Ð°Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ñ Ð¾Ð½Ð»Ð°Ð¹Ð½-Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸ -->
    <VBox prefWidth="180" spacing="10" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 3);">

        <Label style="-fx-font-weight: bold; -fx-font-size: 14; -fx-text-fill: #333;" text="ðŸŸ¢ ÐžÐ½Ð»Ð°Ð¹Ð½ Ð² Ñ‡Ð°Ñ‚Ðµ" />

        <Separator style="-fx-padding: 5 0;" />

        <ListView fx:id="onlineUsersListView" style="-fx-background-color: transparent; -fx-border-color: #e0e0e0; -fx-border-radius: 8;" VBox.vgrow="ALWAYS" />

        <Label style="-fx-font-size: 10; -fx-text-fill: #999; -fx-wrap-text: true;" text="Ð”Ð²Ð¾Ð¹Ð½Ð¾Ð¹ ÐºÐ»Ð¸Ðº Ð¿Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑŽ Ð´Ð»Ñ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ" />

        <Label style="-fx-font-size: 10; -fx-text-fill: #999; -fx-wrap-text: true;" text="Ctrl+Ð´Ð²Ð¾Ð¹Ð½Ð¾Ð¹ ÐºÐ»Ð¸Ðº Ð´Ð»Ñ Ð¿Ñ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€Ð° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° Ð´Ð¾ÑÑ‚Ð°Ð²ÐºÐ¸" />
    </VBox>
</HBox>

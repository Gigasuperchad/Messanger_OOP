<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.messanger_oop.ChatController"
      prefHeight="600.0"
      prefWidth="500.0"
      spacing="15.0"
      style="-fx-background-color: linear-gradient(to bottom, #eef1ff, #f8f9ff);">

    <padding>
        <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
    </padding>

    <!-- Ð’ÐµÑ€Ñ…Ð½ÑÑ Ð¿Ð°Ð½ÐµÐ»ÑŒ Ñ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ Ð½Ð°Ð·Ð°Ð´ -->
    <HBox spacing="10" alignment="CENTER_LEFT"
          style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 0, 2);">
        <Button text="â† ÐÐ°Ð·Ð°Ð´ Ðº ÑÐ¿Ð¸ÑÐºÑƒ Ñ‡Ð°Ñ‚Ð¾Ð²"
                onAction="#handleBackToChatList"
                style="-fx-background-color: transparent; -fx-text-fill: #667eea; -fx-font-weight: bold; -fx-border-color: #667eea; -fx-border-radius: 15; -fx-border-width: 2; -fx-padding: 8 20;"/>
    </HBox>

    <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ -->
    <ListView fx:id="messageListView"
              VBox.vgrow="ALWAYS"
              style="-fx-background-color: white; -fx-background-radius: 15; -fx-border-color: #e0e0e0; -fx-border-radius: 15; -fx-padding: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 3);"/>

    <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ Ð²Ð²Ð¾Ð´Ð° Ñ ÐºÐ½Ð¾Ð¿ÐºÐ°Ð¼Ð¸ Ñ„Ð°Ð¹Ð»Ð¾Ð² -->
    <VBox spacing="10"
          style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 8, 0, 0, 3);">

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð¿Ñ€Ð¸ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð² -->
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Button fx:id="attachImageButton"
                    text="ðŸ–¼ï¸ Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ"
                    style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 10;"/>

            <Button fx:id="attachFileButton"
                    text="ðŸ“Ž Ð¤Ð°Ð¹Ð»"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 8 15; -fx-background-radius: 10;"/>

            <!-- ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» -->
            <Label fx:id="selectedFileLabel"
                   text=""
                   style="-fx-text-fill: #666; -fx-font-size: 12; -fx-padding: 0 10;"/>
        </HBox>

        <!-- ÐŸÐ¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ -->
        <HBox spacing="10.0">
            <TextArea fx:id="messageTextArea"
                      HBox.hgrow="ALWAYS"
                      prefRowCount="3"
                      wrapText="true"
                      promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¸ÐºÑ€ÐµÐ¿Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð»..."
                      style="-fx-background-color: #f8f9fa; -fx-border-color: #e0e0e0; -fx-border-radius: 10; -fx-padding: 10; -fx-font-family: 'Arial'; -fx-font-size: 14;"/>

            <Button fx:id="sendButton"
                    text="âœ‰ï¸ ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ"
                    onAction="#handleSendMessage"
                    defaultButton="true"
                    style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 15 25; -fx-background-radius: 15; -fx-font-size: 14;"/>
        </HBox>
    </VBox>
</VBox>
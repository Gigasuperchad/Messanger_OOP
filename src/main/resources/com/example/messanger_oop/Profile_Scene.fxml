<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.shape.Circle?>

<ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-border-color: transparent;"
            xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.messanger_oop.client.ProfileController">

    <VBox alignment="CENTER" spacing="20.0"
          prefHeight="650" prefWidth="450"
          style="-fx-background-color: linear-gradient(to bottom, #f8f9ff, #eef1ff);">

        <padding>
            <Insets bottom="25.0" left="25.0" right="25.0" top="25.0" />
        </padding>

        <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
        <Label text="ðŸ‘¤ ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ"
               style="-fx-font-size: 28; -fx-font-weight: bold; -fx-text-fill: linear-gradient(to right, #667eea, #764ba2);"/>

        <!-- ÐÐ²Ð°Ñ‚Ð°Ñ€ Ñ Ð¾Ð±Ð²Ð¾Ð´ÐºÐ¾Ð¹ -->
        <StackPane>
            <Circle radius="55" fill="white" stroke="#667eea" strokeWidth="3"/>
            <ImageView fx:id="avatarImageView" fitWidth="100" fitHeight="100">
                <clip>
                    <Circle centerX="50" centerY="50" radius="50"/>
                </clip>
                <image>
                    <Image url="@default-avatar.png" />
                </image>
            </ImageView>
        </StackPane>

        <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ðµ Ð² ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐµ -->
        <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 15; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 5);"
              prefWidth="350">

            <GridPane hgap="15" vgap="12">
                <columnConstraints>
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="80" prefWidth="80" />
                    <ColumnConstraints hgrow="SOMETIMES" minWidth="200" prefWidth="200" />
                </columnConstraints>

                <Label text="Ð˜Ð¼Ñ:" GridPane.columnIndex="0" GridPane.rowIndex="0"
                       style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                <Label fx:id="firstNameLabel" GridPane.columnIndex="1" GridPane.rowIndex="0"
                       style="-fx-text-fill: #333; -fx-font-size: 14;"/>

                <Label text="Ð¤Ð°Ð¼Ð¸Ð»Ð¸Ñ:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                       style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                <Label fx:id="lastNameLabel" GridPane.columnIndex="1" GridPane.rowIndex="1"
                       style="-fx-text-fill: #333; -fx-font-size: 14;"/>

                <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                       style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                <Label fx:id="emailLabel" GridPane.columnIndex="1" GridPane.rowIndex="2"
                       style="-fx-text-fill: #333; -fx-font-size: 14;"/>

                <Label text="Ð›Ð¾Ð³Ð¸Ð½:" GridPane.columnIndex="0" GridPane.rowIndex="3"
                       style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                <Label fx:id="nicknameLabel" GridPane.columnIndex="1" GridPane.rowIndex="3"
                       style="-fx-text-fill: #333; -fx-font-size: 14;"/>
            </GridPane>
        </VBox>

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ¼ÐµÐ½Ñ‹ ÑÑ‚Ð°Ñ‚ÑƒÑÐ° -->
        <Button text="ðŸŸ¢ Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ" onAction="#handleStatusButton"
                style="-fx-background-color: linear-gradient(to right, #FF9800, #FFB74D); -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 30; -fx-background-radius: 25; -fx-font-size: 14;"
                prefWidth="200"/>

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° ÑÐ¼ÐµÐ½Ñ‹ Ð¿Ð°Ñ€Ð¾Ð»Ñ -->
        <Button fx:id="changePasswordButton" text="ðŸ”’ Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ"
                style="-fx-background-color: linear-gradient(to right, #ff8a00, #da1b60); -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 12 30; -fx-background-radius: 25; -fx-font-size: 14;"
                prefWidth="200"/>

        <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑÐ¼ÐµÐ½Ñ‹ Ð¿Ð°Ñ€Ð¾Ð»Ñ -->
        <VBox fx:id="changePasswordPanel" spacing="15" alignment="CENTER"
              style="-fx-background-color: white; -fx-border-color: #e0e0e0; -fx-border-radius: 15; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 5);"
              prefWidth="350" visible="false" managed="false">

            <Label text="ðŸ”’ Ð¡Ð¼ÐµÐ½Ð° Ð¿Ð°Ñ€Ð¾Ð»Ñ"
                   style="-fx-font-weight: bold; -fx-font-size: 18; -fx-text-fill: #333;"/>

            <VBox spacing="8" prefWidth="280">
                <Label text="Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" style="-fx-text-fill: #555; -fx-font-size: 13;"/>
                <PasswordField fx:id="currentPasswordField" prefWidth="280"
                               style="-fx-background-color: #f8f9fa; -fx-border-color: #ddd; -fx-border-radius: 8; -fx-padding: 10;"/>

                <Label text="ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" style="-fx-text-fill: #555; -fx-font-size: 13;"/>
                <PasswordField fx:id="newPasswordField" prefWidth="280"
                               style="-fx-background-color: #f8f9fa; -fx-border-color: #ddd; -fx-border-radius: 8; -fx-padding: 10;"/>

                <Label text="ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:" style="-fx-text-fill: #555; -fx-font-size: 13;"/>
                <PasswordField fx:id="confirmPasswordField" prefWidth="280"
                               style="-fx-background-color: #f8f9fa; -fx-border-color: #ddd; -fx-border-radius: 8; -fx-padding: 10;"/>
            </VBox>

            <Label fx:id="passwordStatusLabel" prefHeight="25"
                   style="-fx-font-size: 13; -fx-text-fill: #666;"/>

            <HBox spacing="15">
                <Button fx:id="savePasswordButton" text="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ"
                        style="-fx-background-color: linear-gradient(to right, #00b09b, #96c93d); -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-background-radius: 20;"/>

                <Button fx:id="cancelPasswordButton" text="ÐžÑ‚Ð¼ÐµÐ½Ð°"
                        style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 25; -fx-background-radius: 20;"/>
            </HBox>
        </VBox>

        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð½Ð°Ð·Ð°Ð´ -->
        <Button text="â† ÐÐ°Ð·Ð°Ð´ Ðº Ñ‡Ð°Ñ‚Ð°Ð¼" onAction="#handleBackToChats"
                style="-fx-background-color: transparent; -fx-text-fill: #667eea; -fx-font-weight: bold; -fx-border-color: #667eea; -fx-border-radius: 20; -fx-border-width: 2; -fx-padding: 10 40;"
                prefWidth="200"/>
    </VBox>
</ScrollPane>